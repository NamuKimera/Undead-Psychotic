<!DOCTYPE html>
<html>
    <head>

        <style>
            body {
                margin: 0px
            }
        </style>

        <!-- importamos nuestras utilidades -->
        <script src="utils.js"></script>
        <!-- importamos boid -->
        <script src="boid.js"></script>
        <!-- importamos el movimiento -->
        <script src="vector2D.js"></script>
        <!-- importamos pixi -->
        <script src="pixi.js"></script>
        <!-- importamos la clase juego -->
        <script src="juego.js"></script>
        <!-- importamos la clase gameObject -->
        <script src="gameObject.js"></script>
        <!-- importamos la clase personas -->
        <script src="personas.js"></script>
        <!-- importamos la clase asesino -->
        <script src="asesino.js"></script>
        <!-- importamos la clase ciudadano -->
        <script src="ciudadano.js"></script>
        <!-- importamos la clase policia -->
        <script src="policia.js"></script>
    </head>
    <body>
        <script>
            // todo empieza aca (Entry Point).
            // creamos una instancia de la clase juego
            const juego = new Juego()
            class Persona {
                constructor(x, y, m) {
                    this.mass = m;
                    this.position = createVector(x, y);
                    this.velocity = createVector(0, 0);
                    this.acceleration = createVector(0, 0);
                }
                evade(vehicle){
                let pursuit = this.pursue(vehicle);
                pursuit.mult(-1);
                return pursuit;
                }
                pursue(vehicle){
                let target = vehicle.pos.copy();
                let prediction = vehicle.velocity.copy();
                prediction.mult(10);
                target.add(velocity);
                target.add(vehicle.velocity.mult(10));
                fill(0, 255, 0);
                circle(target.x, target.y, 16);
                retun this.seek(target);
                }
                
                arrive(target){
                return this.seek(target.true);
                }
                
                flee(target){
                return this.seek(target).mult(-1);
                }
                
                seek(target){
                    let desired = p5.Vector.sub(target, this.position);
                    let steering = p5.Vector.sub(desired, this.velocity);
                    this.applyForce(steering);
                }
                applyForce(force){
                    let f = p5.Vector.div(force, this.mass);
                    this.acceleration.add(f);
                }
                update() {
                this.velocity.add(this.acceleration);
                this.position.add(this.velocity);
                this.acceleration.mult(0);
                }
            }
        </script>
    </body>
</html>
